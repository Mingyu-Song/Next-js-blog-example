---
title: "2020년 9월 22일"
date: "2020-09-22"
---

하루종일 캘린더만 만들었다.

처음엔 다른 나라에서 접근했을때 현지 시간에 대한 고민이나, 구글 api를 통해 여러가지 시도를 해보려고 했으나,

수거신청이 서울권에 한정되어 있어서 굳이 그런 고민을 할 필요가 없어졌고, 구글api는 사실상 어려울 거 같아서 미뤄두고

공공api를 통해 공휴일 데이터만 받아 쓰기로 했다.

momentjs를 사용해서 최종적인 calendar를 구현했는데,

momentjs에서 계속 정의를 해놓고 메쏘드를 사용하면 값이 바뀌는데 따로 clone을 해야 했던 것이다.

여러가지 실패를 거듭하고 퇴근 시간까지 계속 엎다가 결국에 생각했던 것 보다 꽤나? 간단하게 함수를 짰고,

대신 jsx쪽에서 조금 복잡하게 코드를 짜게 되었다. 배열을 원하는 갯수만큼 자르는 함수를 만들고

Week컴포넌트를 만들어서 그안에 무조건 7개의 요소들이 들어가도록 했고 비어있는 곳은 null을 넣게 만들었다.

그렇게 map함수를 돌려서 달력을 만들었다.

일단 오늘 기준 -1주 ~ +3주를 구현을 해놨는데 다른 날짜일 경우 오류가 발생할수도 있을 것 같아서

내일은 테스트겸, api받고 공휴일도 block시키는 작업을 마무리하고 빨리 수거신청부분을 마쳐야겠다.
